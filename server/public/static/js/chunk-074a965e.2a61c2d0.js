(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-074a965e"],{"1dc1":function(e,a,t){"use strict";t("2052")},2052:function(e,a,t){},2610:function(e,a,t){"use strict";t("e00f")},"5cb2":function(e,a,t){"use strict";t("7c41")},"63a6":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"clearfix my-page-list"},[t("el-scrollbar",{staticClass:"scroll-wrapper page-list-wrapper"},[t("div",{staticClass:"page-content"},[t("div",{staticClass:"my-page-nav-list"},[t("div",{staticClass:"my-page-nav-item",class:{active:"my"===e.searchParams.type},on:{click:function(a){return e.doSearch("my")}}},[e._v("\n          素材模板列表("+e._s(e.myCount)+")\n        ")])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-item-wrapper"},[t("div",{staticClass:"page-item"},[t("thumbnailPanel",{attrs:{pageType:e.searchParams.pageMode}})],1),e._l(e.pageList,(function(a,i){return t("div",{key:i,staticClass:"page-item"},[t("thumbnailPanel",{attrs:{pageData:a,btnList:e.operationBtn(a.isPublish)},on:{refresh:e.getPageList,showPreview:e.showPreviewFn}})],1)}))],2)])]),e.showPreview?t("previewPage",{attrs:{pageId:e.previewId},on:{closePreview:function(a){e.showPreview=!1}}}):e._e()],1)},s=[],n=(t("7f7f"),t("2909")),r=t("2f88"),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("previewWrapper",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{pageId:e.pageId},on:{closePreview:e.closePreview}},[t("p",{staticClass:"page-title paddingL30"},[e._v("页面预览")]),e.loading?e._e():t("div",{staticClass:"preview-info-wrapper"},[t("el-form",{attrs:{"label-width":"90px","label-position":"left"}},[t("el-form-item",{attrs:{label:"页面二维码:"}},[t("QrcodeVue",{attrs:{value:e.pageLink,size:120,level:"H"}}),e.pageData.isPublish?e._e():t("p",{staticClass:"gray fontsize-12 lineheight-18"},[e._v("注意：为防范钓鱼安全风险，预览内容仅供作者调试使用，有效期 50 分钟，如需供他人预览，请使用发布功能。")])],1),t("el-form-item",{attrs:{label:"页面链接:"}},[t("div",[t("el-button",{attrs:{type:"primary"},on:{click:e.doCopy}},[e._v("复制链接")])],1),t("div",{staticClass:"share-wx-config-wrapper"},[e._v(e._s(e.$config.baseURL+"/quark/view/"+e.pageId))])]),t("el-form-item",{attrs:{label:"页面状态:"}},[t("span",{class:[e.pageData.isPublish?"primary":"orange"]},[e._v(e._s(e.pageData.isPublish?"已发布":"未发布"))])])],1),t("div",{staticClass:"page-info"},[t("div",{staticClass:"page-cover"},[t("img",{attrs:{src:e.shareData.coverImage||e.defaultCoverImage,alt:""}})]),t("div",{staticClass:"page-title-des paddingT10"},[t("div",{staticClass:"info-form-wrapper"},[e._v("\n          "+e._s(e.shareData.title)+"\n        ")]),t("div",{staticClass:"info-form-wrapper ellipsis"},[e._v("\n          "+e._s(e.shareData.description)+"\n        ")])])]),t("div",{staticClass:"clearfix paddingT30 text-center"},[t("a",{attrs:{href:e.pageLink,target:"_blank"}},[t("el-button",{attrs:{type:"primary"}},[e._v("新标签打开链接")])],1)])],1)])},c=[],p=t("a1a8"),l=t("d7b0"),g={components:{previewWrapper:p["a"],QrcodeVue:l["a"]},props:{pageId:String},data:function(){return{loading:!0,defaultCoverImage:t("5c58"),pageData:{}}},created:function(){this.getData()},computed:{pageLink:function(){return this.$config.baseURL+"/quark/view/"+this.pageId},shareData:function(){return this.pageData.shareConfig?this.pageData.shareConfig.shareWx?{coverImage:this.pageData.shareConfig.coverImage,title:this.pageData.shareConfig.title,description:this.pageData.shareConfig.description}:{coverImage:this.pageData.coverImage,title:this.pageData.title,description:this.pageData.description}:{}}},methods:{closePreview:function(){this.$emit("closePreview",!1)},getData:function(){var e=this;this.loading=!0,this.$API.getPageDetail({pageId:this.pageId}).then((function(a){e.loading=!1,e.pageData=a.body})).catch((function(){e.loading=!1}))},doCopy:function(){var e=this;this.$copyText(this.pageLink).then((function(){e.$message.success("已复制")}))}}},d=g,h=(t("1dc1"),t("2877")),u=Object(h["a"])(d,o,c,!1,null,"6426fe28",null),v=u.exports,f={components:{thumbnailPanel:r["a"],previewPage:v},data:function(){return{loading:!1,pageList:[],myCount:0,shareCount:0,pageModeList:[],searchParams:{type:"my",pageMode:"h5"},previewId:"",showPreview:!1}},computed:{},created:function(){this.pageModeList=this.$config.pageModeList,this.getPageList()},methods:{operationBtn:function(e){var a=["edit","copyTemplate","setTemplate"];return"my"===this.searchParams.type&&(a=[].concat(Object(n["a"])(a),["cooperation","delete"])),"cooperation"===this.searchParams.type&&(a=[].concat(Object(n["a"])(a),["unCooperation"])),a=[].concat(Object(n["a"])(a),e?["copyUrl","viewPageData"]:["publish"]),a},doSearch:function(e){this.searchParams.type=e,this.getPageList()},handlePageModeClick:function(e){this.searchParams.pageMode=e.name,this.getPageList()},getPageList:function(){var e=this;this.$API.getMyPages(this.searchParams).then((function(a){e.pageList=a.body.pages||[],e.myCount=a.body.myPageCount,e.shareCount=a.body.myCooperationPageCount}))},showPreviewFn:function(e){this.previewId=e,this.showPreview=!0}}},m=f,w=(t("5cb2"),t("2610"),Object(h["a"])(m,i,s,!1,null,"4d307a49",null));a["default"]=w.exports},"7c41":function(e,a,t){},e00f:function(e,a,t){}}]);
//# sourceMappingURL=chunk-074a965e.2a61c2d0.js.map